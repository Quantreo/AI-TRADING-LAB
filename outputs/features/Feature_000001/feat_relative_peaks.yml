idea: relative_peaks
family: trading
dependencies:
- pandas
description: 'This feature measures the proportion of price action that occurred above
  a certain threshold (peak value) relative to the entire time series.

  It aims to capture the magnitude of price spikes, which can be indicative of market
  volatility and potential trading opportunities.

  '
inputs:
- high_col
parameters:
  peak_multiplier: 1.2
  peak_window: 5
output:
  name: relative_peaks_proportion
  type: pd.Series
  description: Proportion of time series exceeding the peak value
mathematical_formula: 'Relative Peaks = (Number of time steps with price > peak) /
  (Total number of time steps)

  '
implementation_hint: '1. For each time step, normalize the high price by the peak
  value.

  2. Calculate the proportion of normalized values that exceed 1.

  3. Multiply the proportion by the peak multiplier to adjust for the peak threshold.

  4. Apply a moving average to the result over the specified window to filter noise.'
created_at: '2025-11-16 15:58:09'
focus: the trading features category of your choice

idea: volume_imbalance_ratio
family: microstructure
dependencies:
- pandas
description: 'Measures the ratio between the average traded volume during periods
  of high and low market activity. This feature might be useful in identifying market
  regimes and detecting potential trading opportunities.

  '
inputs:
- volume
parameters:
  high_activity_threshold: 0.8
  low_activity_threshold: 0.2
output:
  name: imbalance_ratio
  type: pd.Series
  description: Ratio of average traded volume during high and low market activity
mathematical_formula: 'Let V_{high} be the average traded volume during high market
  activity (i.e., V > quantile(V, 1 - low_activity_threshold)) and V_{low} be the
  average traded volume during low market activity (i.e., V < quantile(V, low_activity_threshold)).
  Then, the volume imbalance ratio is defined as V_{high} / V_{low}.

  '
implementation_hint: '1. Calculate the quantiles of the volume column using low_activity_threshold
  and high_activity_threshold.

  2. Split the volume column into two groups based on the quantiles.

  3. Calculate the average traded volume for each group.

  4. Compute the ratio of the two averages.'
created_at: '2025-11-16 15:58:31'
focus: volume imbalance

strategy:
  name: TrendWithVolFilter
  long_entry:
    logic: Enter long when short-term slope and returns are positive and tail risk
      is low
    expression: (linear_slope_100 > 0) and (returns_100 > 0) and (tail_returns_200
      < 0)
    identifiers_used:
    - linear_slope_100
    - returns_100
    - tail_returns_200
    comment: Filters out assets with recent extreme tail moves
  short_entry:
    logic: Enter short when short-term slope and returns are negative and tail risk
      is high
    expression: (linear_slope_100 < 0) and (returns_100 < 0) and (tail_returns_200
      > 0)
    identifiers_used:
    - linear_slope_100
    - returns_100
    - tail_returns_200
    comment: Captures reversal when tail moves dominate
  exit:
    logic: Exit after max duration, stop loss, take profit, or extreme volatility
    expression: days_since_entry >= max_duration or pnl_since_entry <= -stop_loss
      or pnl_since_entry >= take_profit or zscore(rs_vol_50) > 2
    parameters:
      max_duration: 10
      stop_loss: 0.02
      take_profit: 0.04
    identifiers_used:
    - rs_vol_50
    comment: Stops on time, loss, profit, or very high realized volatility
  position_sizing:
    logic: Scale size with volatility ratio, capped at max per asset
    expression: base_risk_fraction * (rs_vol_120 / rs_vol_50)
    parameters:
      max_per_asset: 0.06
      base_risk_fraction: 0.01
    identifiers_used:
    - rs_vol_120
    - rs_vol_50
    comment: Reduces exposure when realized volatility is high
meta:
  source_alphas:
  - volatility_exit_signal_20251121_101437.yaml
  - volatility_regime_20251121_101234.yaml
  - volatility_regime_20251121_101412.yaml
  - tail_risk_filtered_trend.yaml
  - multi_horizon_trend_alignment.yaml
  - market_volatility_cross-affinity_20251121_102417.yaml
  - volatility_regime_shift_signal_20251121_101259.yaml
  - volatility_regime_shift_indicator_20251121_101532.yaml
  - low-volatility_trend_persistence_20251121_102707.yaml
  - volatility_conditioned_trend_carry.yaml
  comment: Generated by StrategyBuilder
